@model AMS.Models.DashboardViewModel.DashboardSummaryViewModel
@{
    var totalAssets = Model.TotalAsset;
    var allocatedAssets = Model.TotalAssignedAsset;
    var unallocatedAssets = Model.TotalUnAssignedAsset;
    var damagedAssets = Model.TotalIssue;
    var underMaintenanceAssets = Model.TotalAssetRequest;
    var totalUsers = Model.TotalUser;
    var totalDepartments = 0;
}

<div class="meta-asset-summary">
    <div class="summary-header">
        <h2>Asset Overview</h2>
        <p>Complete asset management statistics and insights</p>
    </div>

    <div class="stats-grid-meta">
        <div class="stat-card-meta">
            <div class="stat-icon-meta blue">
                <i class="fas fa-boxes"></i>
            </div>
            <div class="stat-info">
                <div class="stat-label-meta">Total Assets</div>
                <div class="stat-number-meta">@totalAssets</div>
                <div class="stat-badge-meta">All registered</div>
            </div>
        </div>

        <div class="stat-card-meta">
            <div class="stat-icon-meta green">
                <i class="fas fa-user-check"></i>
            </div>
            <div class="stat-info">
                <div class="stat-label-meta">Allocated Assets</div>
                <div class="stat-number-meta">@allocatedAssets</div>
                <div class="stat-badge-meta">@(totalAssets > 0 ? Math.Round((double)allocatedAssets / totalAssets * 100, 1) : 0)%</div>
            </div>
        </div>

        <div class="stat-card-meta">
            <div class="stat-icon-meta orange">
                <i class="fas fa-box-open"></i>
            </div>
            <div class="stat-info">
                <div class="stat-label-meta">Unallocated Assets</div>
                <div class="stat-number-meta">@unallocatedAssets</div>
                <div class="stat-badge-meta">@(totalAssets > 0 ? Math.Round((double)unallocatedAssets / totalAssets * 100, 1) : 0)%</div>
            </div>
        </div>

        <div class="stat-card-meta">
            <div class="stat-icon-meta red">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="stat-info">
                <div class="stat-label-meta">Asset Issues</div>
                <div class="stat-number-meta">@damagedAssets</div>
                <div class="stat-badge-meta warning">Needs attention</div>
            </div>
        </div>

        <div class="stat-card-meta">
            <div class="stat-icon-meta cyan">
                <i class="fas fa-clipboard-list"></i>
            </div>
            <div class="stat-info">
                <div class="stat-label-meta">Asset Requests</div>
                <div class="stat-number-meta">@underMaintenanceAssets</div>
                <div class="stat-badge-meta">Pending</div>
            </div>
        </div>

        <div class="stat-card-meta">
            <div class="stat-icon-meta purple">
                <i class="fas fa-users"></i>
            </div>
            <div class="stat-info">
                <div class="stat-label-meta">Total Users</div>
                <div class="stat-number-meta">@totalUsers</div>
                <div class="stat-badge-meta">@totalDepartments Depts</div>
            </div>
        </div>
    </div>

    <div class="quick-actions-meta">
        <a href="#" onclick="AddEdit(0)" class="action-btn-meta">
            <i class="fas fa-plus-circle"></i>
            <span>Add New Asset</span>
        </a>
        <a href="#" onclick="AddEditSubscriptionRequest(0)" class="action-btn-meta">
            <i class="fas fa-file-alt"></i>
            <span>New Request</span>
        </a>
        <a href="#" onclick="AddEditUserAccount(0)" class="action-btn-meta">
            <i class="fas fa-user-plus"></i>
            <span>Add User</span>
        </a>
        <a href="@Url.Action("Index", "Department")" class="action-btn-meta">
            <i class="fas fa-building"></i>
            <span>Manage Depts</span>
        </a>
        <a href="@Url.Action("Index", "Supplier")" class="action-btn-meta">
            <i class="fas fa-truck"></i>
            <span>Suppliers</span>
        </a>
        <a href="@Url.Action("Index", "AssetRequest")" class="action-btn-meta">
            <i class="fas fa-clipboard-check"></i>
            <span>View Requests</span>
        </a>
    </div>
</div>

<style>
/* Meta-Inspired Clean Asset Summary */
.meta-asset-summary {
    background: white;
    border-radius: 8px;
    padding: 24px;
    border: 1px solid #e4e6eb;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
}

.summary-header {
    margin-bottom: 24px;
}

.summary-header h2 {
    font-size: 20px;
    font-weight: 700;
    color: #1c1e21;
    margin: 0 0 4px 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

.summary-header p {
    font-size: 14px;
    color: #65676b;
    margin: 0;
}

.stats-grid-meta {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 16px;
    margin-bottom: 20px;
}

.stat-card-meta {
    background: white;
    border: 1px solid #e4e6eb;
    border-radius: 8px;
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 16px;
    transition: all 0.2s ease;
}

.stat-card-meta:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    border-color: #0866FF;
}

.stat-icon-meta {
    width: 48px;
    height: 48px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: white;
    flex-shrink: 0;
}

.stat-icon-meta.blue {
    background: #0866FF;
}

.stat-icon-meta.green {
    background: #31a24c;
}

.stat-icon-meta.orange {
    background: #f7b928;
}

.stat-icon-meta.red {
    background: #e41e3f;
}

.stat-icon-meta.cyan {
    background: #00a8e8;
}

.stat-icon-meta.purple {
    background: #8b5cf6;
}

.stat-info {
    flex: 1;
    min-width: 0;
}

.stat-label-meta {
    font-size: 13px;
    font-weight: 500;
    color: #65676b;
    margin-bottom: 4px;
}

.stat-number-meta {
    font-size: 28px;
    font-weight: 700;
    color: #1c1e21;
    line-height: 1;
    margin-bottom: 4px;
}

.stat-badge-meta {
    display: inline-block;
    font-size: 12px;
    color: #65676b;
    background: #f0f2f5;
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 500;
}

.stat-badge-meta.warning {
    background: #fff3cd;
    color: #856404;
}

.quick-actions-meta {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 12px;
    padding-top: 20px;
    border-top: 1px solid #e4e6eb;
}

.action-btn-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
    background: white;
    border: 1px solid #dddfe2;
    border-radius: 6px;
    color: #1c1e21;
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

.action-btn-meta:hover {
    background: #f0f2f5;
    border-color: #0866FF;
    color: #0866FF;
    text-decoration: none;
}

.action-btn-meta i {
    font-size: 16px;
    color: #0866FF;
}

@@media (max-width: 768px) {
    .stats-grid-meta {
        grid-template-columns: 1fr;
    }
    
    .quick-actions-meta {
        grid-template-columns: 1fr;
    }
}
</style>
